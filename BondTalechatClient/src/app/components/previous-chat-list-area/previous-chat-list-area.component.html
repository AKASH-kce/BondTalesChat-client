<div class="chat-window">
  <div class="chat-messages" #chatMessages>

    <!-- Display messages -->
    <div *ngFor="let msg of messages" class="message-row" [ngClass]="msg.sender === 'user' ? 'user' : 'bot'">
      <img class="avatar" [src]="ProfileImageURl" alt="{{ msg.sender }} avatar" />

      <div class="message" [ngClass]="msg.sender === 'user' ? 'user-message' : 'bot-message'">
        {{ msg.messageText || (msg.sender === 'user' ? 'User message' : 'Bot message') }}<br>
        <small class="time">{{ msg.sentAt | date:'shortTime' }}</small>
      </div>
    </div>

    <!-- Typing indicator -->
    <div class="message-row bot" *ngIf="isTyping">
      <img class="avatar" [src]="ProfileImageURl" alt="bot avatar" />
      <div class="message bot-message typing-indicator">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>

  </div>
</div>
